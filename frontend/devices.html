<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Devices ‚Äî ShipTrack</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dashboard">
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ShipTrack</h2>
                <button class="sidebar-toggle" id="sidebarToggle">‚ò∞</button>
            </div>
            <nav class="sidebar-nav">
                <a href="dashboard.html">üì¶ Shipments</a>
                <a href="devices.html" class="active">üñ•Ô∏è Devices</a>
                <a href="#profile">üë§ Profile</a>
                <a href="#" id="logoutBtn">üö™ Logout</a>
            </nav>
        </aside>

        <main class="dashboard-main">
            <header class="dashboard-header">
                <h1>Device Tracking</h1>
                <span class="badge badge-online">‚óè 12 Online</span>
            </header>

            <section class="filters">
                <input type="text" id="searchInput" placeholder="Search devices..." class="search-box">
                <select id="statusFilter" class="filter-select">
                    <option value="">All Status</option>
                    <option value="online">Online</option>
                    <option value="offline">Offline</option>
                    <option value="maintenance">Maintenance</option>
                </select>
            </section>

            <section class="devices-grid">
                <div class="device-card">
                    <div class="device-header">
                        <h3>Device001</h3>
                        <span class="status-badge online">‚óè Online</span>
                    </div>
                    <div class="device-body">
                        <div class="stat">
                            <span class="label">Location</span>
                            <strong>NYC, NY</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Battery</span>
                            <div class="progress-bar">
                                <div class="progress" style="width:85%"></div>
                            </div>
                            <span class="text-small">85%</span>
                        </div>
                        <div class="stat">
                            <span class="label">Last Update</span>
                            <strong>2 min ago</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Shipments</span>
                            <strong>5 active</strong>
                        </div>
                    </div>
                    <div class="device-footer">
                        <a href="#" class="link-action">View Details</a>
                        <a href="#" class="link-action">Map</a>
                    </div>
                </div>

                <div class="device-card">
                    <div class="device-header">
                        <h3>Device002</h3>
                        <span class="status-badge online">‚óè Online</span>
                    </div>
                    <div class="device-body">
                        <div class="stat">
                            <span class="label">Location</span>
                            <strong>LA, CA</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Battery</span>
                            <div class="progress-bar">
                                <div class="progress" style="width:62%"></div>
                            </div>
                            <span class="text-small">62%</span>
                        </div>
                        <div class="stat">
                            <span class="label">Last Update</span>
                            <strong>5 min ago</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Shipments</span>
                            <strong>3 active</strong>
                        </div>
                    </div>
                    <div class="device-footer">
                        <a href="#" class="link-action">View Details</a>
                        <a href="#" class="link-action">Map</a>
                    </div>
                </div>

                <div class="device-card">
                    <div class="device-header">
                        <h3>Device003</h3>
                        <span class="status-badge offline">‚óè Offline</span>
                    </div>
                    <div class="device-body">
                        <div class="stat">
                            <span class="label">Location</span>
                            <strong>San Francisco, CA</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Battery</span>
                            <div class="progress-bar">
                                <div class="progress" style="width:15%"></div>
                            </div>
                            <span class="text-small">15%</span>
                        </div>
                        <div class="stat">
                            <span class="label">Last Update</span>
                            <strong>2 hours ago</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Shipments</span>
                            <strong>0 active</strong>
                        </div>
                    </div>
                    <div class="device-footer">
                        <a href="#" class="link-action">View Details</a>
                        <a href="#" class="link-action">Map</a>
                    </div>
                </div>

                <div class="device-card">
                    <div class="device-header">
                        <h3>Device004</h3>
                        <span class="status-badge online">‚óè Online</span>
                    </div>
                    <div class="device-body">
                        <div class="stat">
                            <span class="label">Location</span>
                            <strong>Chicago, IL</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Battery</span>
                            <div class="progress-bar">
                                <div class="progress" style="width:92%"></div>
                            </div>
                            <span class="text-small">92%</span>
                        </div>
                        <div class="stat">
                            <span class="label">Last Update</span>
                            <strong>1 min ago</strong>
                        </div>
                        <div class="stat">
                            <span class="label">Shipments</span>
                            <strong>8 active</strong>
                        </div>
                    </div>
                    <div class="device-footer">
                        <a href="#" class="link-action">View Details</a>
                        <a href="#" class="link-action">Map</a>
                    </div>
                </div>
            </section>

            <section class="analytics">
                <h2>Device Analytics</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Active Devices</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">2</div>
                        <div class="stat-label">Offline</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">78%</div>
                        <div class="stat-label">Avg Battery</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">25</div>
                        <div class="stat-label">Shipments Tracked</div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            checkAuth();

            document.getElementById('logoutBtn').addEventListener('click', (e) => {
                e.preventDefault();
                localStorage.removeItem('access_token');
                localStorage.removeItem('token_type');
                window.location.href = 'login.html';
            });
        });

        function checkAuth() {
            const token = localStorage.getItem('access_token');
            if (!token) {
                window.location.href = 'login.html';
            }
        }
    </script>
</body>
</html>
